<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&display=swap" rel="stylesheet">

<!-- Plyr.io CSS for audio player -->
<link rel="stylesheet" href="https://cdn.plyr.io/3.7.8/plyr.css" />

<!-- Umami Analytics -->
<script defer src="https://cloud.umami.is/script.js" data-website-id="ed0503cb-6782-44b7-85ee-408fb7361603"></script>

<style>
    /* Base variables */
    :root {
        --font-main:
            "Palatino", "Palatino Linotype", "Book Antiqua", Georgia, serif;
        --font-paragraph:
            "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        --font-mono: "Inconsolata", Courier, monospace;
        --font-size-base: 16px;
        --font-size-small: 14px;
        --font-size-code: 15px;
        --line-height: 1.6;
        --width: 720px;
        --background-color: #fcfcfc;
        --text-color: #333;
        --heading-color: #222;
        --meta-color: #666;
        --link-color: #555;
        --tag-bg: #eeeeee;
        --tag-color: #666;
        --tag-hover-bg: #e2e2e2;
        --tag-hover-color: #444;
        --border-color: #eee;
        --code-bg: #f2f2f2;
    }

    /* Dark mode */
    @media (prefers-color-scheme: dark) {
        :root {
            --background-color: #01242e;
            --text-color: #ddd;
            --heading-color: #eee;
            --meta-color: #999;
            --link-color: #8cc2dd;
            --tag-bg: #112936;
            --tag-color: #8cc2dd;
            --tag-hover-bg: #1a3c4e;
            --tag-hover-color: #fff;
            --border-color: #112936;
            --code-bg: #002b36;
        }
    }

    /* Typography overrides */
    body {
        font-family: var(--font-main);
        font-size: var(--font-size-base);
        line-height: var(--line-height);
        color: var(--text-color);
        background-color: var(--background-color);
    }

    /* Apply Inter font to paragraphs and content lists */
    p {
        font-family: var(--font-paragraph);
        font-weight: 400;
    }

    /* Apply Inter to list content but not blog post list */
    ul:not(.blog-posts) li,
    ol li {
        font-family: var(--font-paragraph);
        font-weight: 400;
    }

    /* Ensure blog post titles keep main font */
    ul.blog-posts li a {
        font-family: var(--font-main);
    }

    /* Code blocks */
    pre,
    code {
        font-family: var(--font-mono);
        font-size: var(--font-size-code);
        background-color: var(--code-bg);
        border-radius: 3px;
    }

    pre {
        padding: 1rem;
        overflow-x: auto;
        line-height: 1.4;
    }

    code {
        padding: 0.2em 0.4em;
    }

    pre code {
        padding: 0;
        background-color: transparent;
    }

    /* Syntax highlighting - minimal and clean */
    .highlight {
        background-color: var(--code-bg) !important;
        border-radius: 3px;
        margin: 1rem 0;
    }

    .highlight pre {
        margin: 0;
        background-color: var(--code-bg) !important;
        padding: 1rem;
        overflow-x: auto;
        line-height: 1.4;
    }

    /* Override inline styles from Hugo highlight shortcode */
    .highlight pre[style] {
        background-color: var(--code-bg) !important;
    }

    .highlight code {
        background-color: transparent !important;
        padding: 0;
    }

    /* Keyboard input styling to match inline code */
    kbd {
        font-family: var(--font-mono);
        font-size: var(--font-size-code);
        background-color: var(--code-bg);
        color: var(--text-color);
        padding: 0.2em 0.4em;
        border-radius: 3px;
        border: 1px solid var(--border-color);
        box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);
    }

    /* Chroma syntax highlighting styles - minimal theme colors */
    .chroma .k,    /* keywords */
    .chroma .kn,   /* keyword.namespace */
    .chroma .kp,   /* keyword.pseudo */
    .chroma .kr,   /* keyword.reserved */
    .chroma .kt {
        /* keyword.type */
        color: #0066cc;
        font-weight: 500;
    }

    .chroma .s,    /* string */
    .chroma .sa,   /* string.affix */
    .chroma .sb,   /* string.backtick */
    .chroma .sc,   /* string.char */
    .chroma .dl,   /* string.delimiter */
    .chroma .sd,   /* string.doc */
    .chroma .s2,   /* string.double */
    .chroma .se,   /* string.escape */
    .chroma .sh,   /* string.heredoc */
    .chroma .si,   /* string.interpol */
    .chroma .sx,   /* string.other */
    .chroma .sr,   /* string.regex */
    .chroma .s1,   /* string.single */
    .chroma .ss {
        /* string.symbol */
        color: #2c5aa0;
    }

    .chroma .c,    /* comment */
    .chroma .ch,   /* comment.hashbang */
    .chroma .cm,   /* comment.multiline */
    .chroma .c1,   /* comment.single */
    .chroma .cs {
        /* comment.special */
        color: var(--meta-color);
        font-style: italic;
    }

    .chroma .nt {
        /* name.tag */
        color: #2c5aa0;
        font-weight: 500;
    }

    .chroma .na {
        /* name.attribute */
        color: #0066cc;
    }

    .chroma .nb,   /* name.builtin */
    .chroma .bp {
        /* name.builtin.pseudo */
        color: #0066cc;
    }

    .chroma .m,    /* literal.number */
    .chroma .mb,   /* literal.number.bin */
    .chroma .mf,   /* literal.number.float */
    .chroma .mh,   /* literal.number.hex */
    .chroma .mi,   /* literal.number.integer */
    .chroma .il,   /* literal.number.integer.long */
    .chroma .mo {
        /* literal.number.oct */
        color: #d73e48;
    }

    /* Dark mode syntax highlighting */
    @media (prefers-color-scheme: dark) {
        .chroma .k,
        .chroma .kn,
        .chroma .kp,
        .chroma .kr,
        .chroma .kt {
            color: #8cc2dd;
        }

        .chroma .s,
        .chroma .sa,
        .chroma .sb,
        .chroma .sc,
        .chroma .dl,
        .chroma .sd,
        .chroma .s2,
        .chroma .se,
        .chroma .sh,
        .chroma .si,
        .chroma .sx,
        .chroma .sr,
        .chroma .s1,
        .chroma .ss {
            color: #a8cc8c;
        }

        .chroma .nt {
            color: #8cc2dd;
        }

        .chroma .na {
            color: #a8cc8c;
        }

        .chroma .nb,
        .chroma .bp {
            color: #8cc2dd;
        }

        .chroma .m,
        .chroma .mb,
        .chroma .mf,
        .chroma .mh,
        .chroma .mi,
        .chroma .il,
        .chroma .mo {
            color: #ff7b7b;
        }
    }

    /* Article styling */
    .post-header {
        margin-bottom: 2rem;
    }

    .post-description {
        font-family: var(--font-main);
        font-size: var(--font-size-base);
        color: var(--meta-color);
        margin-top: 0.5rem;
        margin-bottom: 1rem;
        font-style: normal;
    }

    .post-meta {
        font-family: var(--font-main);
        font-size: var(--font-size-small);
        color: var(--meta-color);
    }

    .post-meta time {
        font-family: var(--font-main);
        font-size: var(--font-size-small);
        font-style: normal;
    }

    .post-content {
        margin-bottom: 1.5rem;
    }

    .post-footer {
        margin-top: 1.5rem;
        padding-top: 1rem;
        text-align: left;
    }

    /* Tags styling */
    .post-tag {
        display: inline-block;
        padding: 0.2rem 0.8rem;
        margin: 0 0.5rem 0.5rem 0;
        font-size: var(--font-size-small);
        color: var(--tag-color);
        background: var(--tag-bg);
        border-radius: 3px;
        text-decoration: none;
        transition: all 0.2s ease;
    }

    .post-tag:hover {
        color: var(--tag-hover-color);
        background: var(--tag-hover-bg);
        text-decoration: none;
    }

    /* Mark/highlight styling */
    mark {
        background: #e6f3ff;
        color: #2c5aa0;
        padding: 0.1rem 0.2rem;
        border-radius: 2px;
        font-weight: normal;
    }

    @media (prefers-color-scheme: dark) {
        mark {
            background: #1a2b3d;
            color: #8cc2dd;
        }
    }

    /* Link styling */
    a {
        color: var(--link-color);
        text-decoration: none;
        transition: color 0.2s ease;
    }

    a:hover {
        color: var(--heading-color);
    }

    /* Article content links with blue color */
    .post-content a,
    article.page a,
    main > p a,
    main > ul a,
    .footnote-ref,
    .footnote-backref {
        color: #0066cc;
        text-decoration: none;
    }

    .post-content a:hover,
    article.page a:hover,
    main > p a:hover,
    main > ul a:hover,
    .footnote-ref:hover,
    .footnote-backref:hover {
        color: #0052a3;
        text-decoration: underline;
        text-decoration-style: dotted;
    }

    /* Footnote reference styling */
    sup {
        margin-left: 0.2em;
    }

    .footnote-ref {
        margin-left: 0.1em;
    }

    /* Footnote reference styling - just numbers */
    sup[id^="fnref:"] {
        vertical-align: super;
        font-size: 0.75em;
        margin-left: 0.1em;
        line-height: 0;
    }

    /* Footnotes section styling */
    .footnotes {
        margin-top: 3rem;
        padding-top: 1.5rem;
        font-size: var(--font-size-small);
        color: var(--meta-color);
    }

    .footnotes ol {
        padding-left: 1.5rem;
        margin: 0;
    }

    .footnotes li {
        font-family: var(--font-paragraph);
        margin-bottom: 0.25rem;
        line-height: 1.5;
        text-align: justify;
    }

    .footnotes li:last-child {
        margin-bottom: 0;
    }

    .footnotes p {
        margin: 0;
        font-size: inherit;
        color: inherit;
        font-family: inherit;
    }

    .footnote-backref {
        margin-left: 0.3em;
        font-size: 0.9em;
        text-decoration: none;
    }

    .footnote-backref:hover {
        text-decoration: none;
    }

    /* Dark mode article links */
    @media (prefers-color-scheme: dark) {
        .post-content a,
        article.page a,
        main > p a,
        main > ul a,
        .footnote-ref,
        .footnote-backref {
            color: #4da6ff;
        }

        .post-content a:hover,
        article.page a:hover,
        main > p a:hover,
        main > ul a:hover,
        .footnote-ref:hover,
        .footnote-backref:hover {
            color: #66b3ff;
            text-decoration-style: dotted;
        }
    }

    /* Blog list refinements */
    ul.blog-posts {
        list-style-type: none;
        padding: 0;
    }

    ul.blog-posts li {
        margin-bottom: 0.75rem;
        padding-bottom: 0;
    }

    ul.blog-posts li:last-child {
        margin-bottom: 0;
    }

    ul.blog-posts li time {
        font-family: var(--font-main);
        font-size: var(--font-size-base);
        color: var(--meta-color);
    }

    /* Header and navigation refinements */
    .title {
        margin-bottom: 2rem;
    }

    .title h2 {
        margin: 0;
        font-size: 2rem;
    }

    nav {
        margin-top: 1rem;
    }

    .nav-link {
        display: inline-flex;
        align-items: center;
        padding: 0 4px;
        margin-right: 1.5rem;
        font-size: var(--font-size-base);
    }

    .nav-link svg {
        fill: currentColor;
        margin: -4px 4px 0 0;
    }

    .nav-separator {
        padding: 0 2px;
        color: currentColor;
    }

    /* Table styling */
    table {
        font-family: var(--font-paragraph);
        width: auto;
        max-width: 100%;
        border-collapse: collapse;
        margin: 1.5rem 0;
        font-size: var(--font-size-small);
        overflow-x: auto;
        display: block;
        white-space: nowrap;
    }

    table thead,
    table tbody,
    table tr {
        display: table;
        width: 100%;
        table-layout: fixed;
    }

    th,
    td {
        padding: 0.5rem 0.75rem;
        text-align: left;
        border-bottom: 1px solid var(--border-color);
        white-space: normal;
        word-wrap: break-word;
    }

    th {
        font-weight: 500;
        color: var(--heading-color);
        border-bottom: 2px solid var(--border-color);
        background-color: var(--tag-bg);
    }

    tbody tr:hover {
        background-color: var(--tag-bg);
    }

    /* Responsive table wrapper */
    .post-content table,
    article.page table,
    main table {
        display: table;
        width: fit-content;
        max-width: 85%;
        margin: 1.5rem auto;
        white-space: normal;
    }

    /* On smaller screens, allow full width */
    @media (max-width: 600px) {
        .post-content table,
        article.page table,
        main table {
            max-width: 100%;
            font-size: 13px;
        }

        th,
        td {
            padding: 0.4rem 0.6rem;
        }
    }

    /* Footer refinements */
    footer {
        margin-top: 3rem;
        color: var(--meta-color);
        font-size: var(--font-size-small);
    }

    /* Audio Player Styling */
    .audio-player-container {
        margin: 0.75rem 0;
        padding: 0;
    }

    .audio-player {
        width: 100%;
        max-width: 100%;
        background: none;
    }

    /* Plyr customizations to match theme */
    .plyr {
        border-radius: 6px;
        background: var(--tag-bg);
        border: 1px solid var(--border-color);
        margin: 0.5rem 0;
    }

    .plyr--audio .plyr__controls {
        background: var(--tag-bg);
        border-radius: 6px;
        padding: 0.75rem;
        color: var(--text-color);
    }

    .plyr__control {
        color: var(--text-color);
    }

    .plyr__control:hover {
        background: var(--tag-hover-bg);
    }

    .plyr__control.plyr__tab-focus {
        box-shadow: 0 0 0 2px var(--link-color);
    }

    .plyr__progress {
        background: var(--border-color);
    }

    .plyr__progress--played {
        background: var(--link-color);
    }

    .plyr__time {
        color: var(--meta-color);
        font-family: var(--font-mono);
        font-size: 0.8rem;
    }

    /* Dark mode adjustments */
    @media (prefers-color-scheme: dark) {
        .plyr--audio .plyr__controls {
            background: var(--tag-bg);
        }
        
        .plyr__control {
            color: var(--text-color);
        }
        
        .plyr__control:hover {
            background: var(--tag-hover-bg);
        }
        
        .plyr__progress {
            background: var(--border-color);
        }
        
        .plyr__progress--played {
            background: var(--link-color);
        }
    }

    /* Comments Section Styling */
    .comments-section {
        margin-top: 3rem;
        padding-top: 2rem;
        border-top: 1px solid var(--border-color);
    }

    .comments-header {
        margin-bottom: 1.5rem;
    }

    .comments-header h3 {
        font-family: var(--font-main);
        font-size: 1.2rem;
        font-weight: 500;
        color: var(--heading-color);
        margin: 0;
        margin-bottom: 0.5rem;
    }

    .comments-noscript {
        font-family: var(--font-paragraph);
        font-size: var(--font-size-small);
        color: var(--meta-color);
        text-align: center;
        padding: 2rem;
        background: var(--tag-bg);
        border-radius: 6px;
        border: 1px solid var(--border-color);
    }

    .comments-noscript a {
        color: var(--link-color);
        text-decoration: none;
    }

    .comments-noscript a:hover {
        color: var(--heading-color);
        text-decoration: underline;
    }

    .comments-dev-notice {
        font-family: var(--font-paragraph);
        font-size: var(--font-size-small);
        color: var(--meta-color);
        text-align: center;
        padding: 1.5rem;
        background: var(--tag-bg);
        border-radius: 6px;
        border: 1px solid var(--border-color);
        margin-top: 1rem;
    }

    .comments-dev-notice p {
        margin: 0;
        font-family: inherit;
        font-size: inherit;
        color: inherit;
    }

    /* Disqus container styling */
    #disqus_thread {
        margin-top: 1rem;
    }

    /* Override some Disqus default styles to match theme */
    #disqus_thread iframe {
        border-radius: 6px;
    }

    /* Dark mode adjustments for comments */
    @media (prefers-color-scheme: dark) {
        .comments-noscript a {
            color: #4da6ff;
        }

        .comments-noscript a:hover {
            color: #66b3ff;
        }
    }
</style>
